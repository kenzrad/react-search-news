(this["webpackJsonpreact-search-news"]=this["webpackJsonpreact-search-news"]||[]).push([[0],{20:function(e,t){e.exports={reduceAndSliceArr:function(e){if(!e||0===e.length)return e;var t=Array.from(new Set(e.reverse()));return t&&t.length>0?t.slice(0,20).reverse():[]}}},22:function(e,t){e.exports={removeSpecialCharacters:function(e){return e?e.trim().toLowerCase().replace(/[^a-zA-Z0-9]/g,""):""}}},26:function(e,t,a){e.exports=a(57)},31:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(4),l=a.n(c),s=(a(31),a(25)),o=a(3),i=a(5),u=a(20),m=Object(i.b)({name:"searchBar",initialState:{value:"",history:[],results:[]},reducers:{setSearchValue:function(e,t){e.value=t.payload,t.payload&&(e.history.push(t.payload),e.history=Object(u.reduceAndSliceArr)(e.history))},setSearchResults:function(e,t){e.results=t.payload}}}),h=m.actions,d=h.setSearchValue,v=h.setSearchResults,E=function(e){return e.search.value},b=function(e){return e.search.history},f=function(e){return e.search.results},p=m.reducer,g=a(21),S=a.n(g),N=a(22);function y(){var e=Object(o.b)(),t=Object(r.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1];function i(t,a){t.preventDefault(),e(d(a)),function(t,a){var r={FEATURED:"search?tags=front_page",SEARCH:"search?query=",SEARCH_DATE:"search_by_date?query="},n="https://hn.algolia.com/api/v1/";n+=a&&t&&-1!==r[t]?r[t]+a:r.FEATURED,S.a.get(n).then((function(t){var a=[];if(t.data&&t.data.hits)for(var r=0;r<t.data.hits.length;r++)a.push({title:t.data.hits[r].title,url:t.data.hits[r].url,timestamp:t.data.hits[r].created_at,id:t.data.hits[r].objectID,author:t.data.hits[r].author,relevancyScore:t.data.hits[r].relevancy_score});e(v(a))})).catch((function(e){}))}("SEARCH",a),l("")}return n.a.createElement("form",{className:"form-inline",onSubmit:function(e){return i(e,Object(N.removeSpecialCharacters)(c))}},n.a.createElement("input",{className:"form-control input-lg","aria-label":"Search query field",value:c,placeholder:"Search Hacker News",onChange:function(e){return l(e.target.value)}}),n.a.createElement("button",{type:"submit",className:"btn btn-dark ml-2"},"Search"))}function w(){return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mb-3"},n.a.createElement("a",{className:"navbar-brand",href:"https://github.com/kenzrad/react-search-news"},"Hacker News API Search"),n.a.createElement("div",{className:"ml-auto"},n.a.createElement(y,null)))}function A(){var e=Object(o.c)(b);return n.a.createElement("div",null,n.a.createElement("p",{className:"text-muted text-right"},"Recent searches: ",e.join(", ")))}function j(){var e=Object(o.c)(f),t=Object(o.c)(E);return n.a.createElement("div",{className:"px-2"},n.a.createElement("div",{className:"row p-2"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",null,t?e.length+' Results for: "'+t+'"':"Top Stories")),n.a.createElement("div",{className:"col"},n.a.createElement(A,null))),n.a.createElement("div",{className:"row p-2 border-bottom"},n.a.createElement("div",{className:"col-3"},n.a.createElement("strong",null,"Article ID")),n.a.createElement("div",{className:"col-6"},n.a.createElement("strong",null,"Title/Link")),n.a.createElement("div",{className:"col-3"},n.a.createElement("strong",null,"Author"))),e.map((function(e){return n.a.createElement("div",{key:e.id,className:"row p-2 border-bottom"},n.a.createElement("div",{className:"col-3"},e.id),n.a.createElement("div",{className:"col-6"},n.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title)),n.a.createElement("div",{className:"col-3"},e.author))})))}var O=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(w,null),n.a.createElement(j,null))},k=a(9),R=a(1),x=a(23),C={key:"root",storage:a.n(x).a},_=Object(R.c)({search:p}),D=Object(k.a)(C,_),H=Object(i.a)({reducer:D}),T=Object(k.b)(H),I=a(24);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(o.a,{store:H},n.a.createElement(I.PersistGate,{loading:null,persistor:T},n.a.createElement(O,null)))),document.getElementById("root")),console.log(H.getState()),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.c99fbda6.chunk.js.map